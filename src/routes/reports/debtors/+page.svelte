<!-- Path: src/routes/reports/debtors/+page.svelte (‡∏â‡∏ö‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç) -->

<script lang="ts">
	export let data;
</script>

<div class="container">
	<header>
		<h1>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ (‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞)</h1>
		<p>‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ö‡∏¥‡∏•‡∏Ç‡∏≤‡∏¢‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏á‡∏Ñ‡πâ‡∏≤‡∏á</p>
	</header>

	{#if data.debtors.length === 0}
		<article>
			<p>üéâ ‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
		</article>
	{:else}
		<figure>
			<table>
				<thead>
					<tr>
						<th>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</th>
						<th>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
						<th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</th>
						<th style="text-align: center;">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏¥‡∏•</th>
						<th style="text-align: right;">‡∏¢‡∏≠‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞‡∏£‡∏ß‡∏°</th>
						<th style="text-align: center;">‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥</th>
					</tr>
				</thead>
				<tbody>
					{#each data.debtors as debtor (debtor.id)}
						<tr>
							<td>{debtor.memberCode}</td>
							<td>{debtor.name}</td>
							<td>{debtor.phone || '-'}</td>
							<td style="text-align: center;">{debtor.billCount}</td>
							<td style="text-align: right;">{debtor.totalDebt.toFixed(2)}</td>
							<td style="text-align: center;">
								<!-- [‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà] ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
								<a href="/reports/debtors/{debtor.id}" role="button" class="outline">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
							</td>
						</tr>
					{/each}
				</tbody>
			</table>
		</figure>
	{/if}
</div>

<style>
	.container {
		max-width: 960px;
		margin: 2rem auto;
	}
	header {
		margin-bottom: 2rem;
		text-align: center;
	}
</style>